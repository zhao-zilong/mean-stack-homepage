{"filter":false,"title":"api.js","tooltip":"/server/routes/api.js","undoManager":{"mark":77,"position":77,"stack":[[{"start":{"row":71,"column":1},"end":{"row":72,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"insert","lines":["",""],"id":3}],[{"start":{"row":73,"column":0},"end":{"row":74,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":71,"column":1},"end":{"row":72,"column":0},"action":"insert","lines":["",""],"id":5}],[{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":73,"column":0},"end":{"row":140,"column":1},"action":"insert","lines":["var Experience = require(\"../models/experience\");","module.exports = function(router) {","    router.post('/experience', function(req, res) {","        console.log(req.body);","        var experience = new Experience();","        experience.company = req.body.company;","        experience.title = req.body.title;","        experience.description = req.body.description;","        if (req.body.timePeriod) {","            experience.timePeriod.start = req.body.timePeriod.start;","            experience.timePeriod.end = req.body.timePeriod.end;","        }","        experience.save(function(err, data) {","            if (err)","                throw err;","            res.json(data);","        });","    });","","","    router.get('/experience', function(req, res) {","        Experience.find({}, function(err, data) {","            res.json(data);","        })","    });","","    router.delete('/experience', function(req, res) {","        Experience.remove({}, function(err) {","            res.json({","                result: err ? 'error' : 'ok'","            });","        })","    });","","    router.get('/experience/:id', function(req, res) {","        Experience.findOne({","            _id: req.params.id","        }, function(err, data) {","            res.json(data);","        });","    });","","    router.delete('/experience/:id', function(req, res) {","        Experience.remove({_id: req.params.id}, function(err) {","            res.json({","                result: err ? 'error' : 'ok'","            });","        })","    });","","    router.post('/experience/:id', function(req, res) {","        Experience.findOne({_id: req.params.id}, function(err, data) {","            var experience = data;","            experience.company = req.body.company;","            experience.title = req.body.title;","            experience.description = req.body.description;","            if (req.body.timePeriod) {","                experience.timePeriod.start = req.body.timePeriod.start;","                experience.timePeriod.end = req.body.timePeriod.end;","            }","            experience.save(function(err, data) {","                if (err)","                    throw err;","                res.json(data);","            });","        });","    });","}"],"id":7}],[{"start":{"row":71,"column":1},"end":{"row":72,"column":0},"action":"insert","lines":["",""],"id":8}],[{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"insert","lines":["",""],"id":9}],[{"start":{"row":71,"column":1},"end":{"row":71,"column":2},"action":"insert","lines":[";"],"id":10}],[{"start":{"row":75,"column":0},"end":{"row":75,"column":49},"action":"remove","lines":["var Experience = require(\"../models/experience\");"],"id":11}],[{"start":{"row":0,"column":45},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":12}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":49},"action":"insert","lines":["var Experience = require(\"../models/experience\");"],"id":13}],[{"start":{"row":78,"column":4},"end":{"row":142,"column":7},"action":"remove","lines":["router.post('/experience', function(req, res) {","        console.log(req.body);","        var experience = new Experience();","        experience.company = req.body.company;","        experience.title = req.body.title;","        experience.description = req.body.description;","        if (req.body.timePeriod) {","            experience.timePeriod.start = req.body.timePeriod.start;","            experience.timePeriod.end = req.body.timePeriod.end;","        }","        experience.save(function(err, data) {","            if (err)","                throw err;","            res.json(data);","        });","    });","","","    router.get('/experience', function(req, res) {","        Experience.find({}, function(err, data) {","            res.json(data);","        })","    });","","    router.delete('/experience', function(req, res) {","        Experience.remove({}, function(err) {","            res.json({","                result: err ? 'error' : 'ok'","            });","        })","    });","","    router.get('/experience/:id', function(req, res) {","        Experience.findOne({","            _id: req.params.id","        }, function(err, data) {","            res.json(data);","        });","    });","","    router.delete('/experience/:id', function(req, res) {","        Experience.remove({_id: req.params.id}, function(err) {","            res.json({","                result: err ? 'error' : 'ok'","            });","        })","    });","","    router.post('/experience/:id', function(req, res) {","        Experience.findOne({_id: req.params.id}, function(err, data) {","            var experience = data;","            experience.company = req.body.company;","            experience.title = req.body.title;","            experience.description = req.body.description;","            if (req.body.timePeriod) {","                experience.timePeriod.start = req.body.timePeriod.start;","                experience.timePeriod.end = req.body.timePeriod.end;","            }","            experience.save(function(err, data) {","                if (err)","                    throw err;","                res.json(data);","            });","        });","    });"],"id":14}],[{"start":{"row":72,"column":1},"end":{"row":72,"column":2},"action":"remove","lines":[";"],"id":15}],[{"start":{"row":71,"column":7},"end":{"row":72,"column":0},"action":"insert","lines":["",""],"id":16},{"start":{"row":72,"column":0},"end":{"row":72,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":72,"column":4},"end":{"row":73,"column":0},"action":"insert","lines":["",""],"id":17},{"start":{"row":73,"column":0},"end":{"row":73,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":73,"column":4},"end":{"row":74,"column":0},"action":"insert","lines":["",""],"id":18},{"start":{"row":74,"column":0},"end":{"row":74,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":74,"column":4},"end":{"row":75,"column":0},"action":"insert","lines":["",""],"id":19},{"start":{"row":75,"column":0},"end":{"row":75,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":75,"column":4},"end":{"row":76,"column":0},"action":"insert","lines":["",""],"id":20},{"start":{"row":76,"column":0},"end":{"row":76,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":76,"column":4},"end":{"row":77,"column":0},"action":"insert","lines":["",""],"id":21},{"start":{"row":77,"column":0},"end":{"row":77,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":77,"column":4},"end":{"row":78,"column":0},"action":"insert","lines":["",""],"id":22},{"start":{"row":78,"column":0},"end":{"row":78,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":78,"column":4},"end":{"row":79,"column":0},"action":"insert","lines":["",""],"id":23},{"start":{"row":79,"column":0},"end":{"row":79,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":79,"column":4},"end":{"row":80,"column":0},"action":"insert","lines":["",""],"id":24},{"start":{"row":80,"column":0},"end":{"row":80,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":80,"column":4},"end":{"row":144,"column":7},"action":"insert","lines":["router.post('/experience', function(req, res) {","        console.log(req.body);","        var experience = new Experience();","        experience.company = req.body.company;","        experience.title = req.body.title;","        experience.description = req.body.description;","        if (req.body.timePeriod) {","            experience.timePeriod.start = req.body.timePeriod.start;","            experience.timePeriod.end = req.body.timePeriod.end;","        }","        experience.save(function(err, data) {","            if (err)","                throw err;","            res.json(data);","        });","    });","","","    router.get('/experience', function(req, res) {","        Experience.find({}, function(err, data) {","            res.json(data);","        })","    });","","    router.delete('/experience', function(req, res) {","        Experience.remove({}, function(err) {","            res.json({","                result: err ? 'error' : 'ok'","            });","        })","    });","","    router.get('/experience/:id', function(req, res) {","        Experience.findOne({","            _id: req.params.id","        }, function(err, data) {","            res.json(data);","        });","    });","","    router.delete('/experience/:id', function(req, res) {","        Experience.remove({_id: req.params.id}, function(err) {","            res.json({","                result: err ? 'error' : 'ok'","            });","        })","    });","","    router.post('/experience/:id', function(req, res) {","        Experience.findOne({_id: req.params.id}, function(err, data) {","            var experience = data;","            experience.company = req.body.company;","            experience.title = req.body.title;","            experience.description = req.body.description;","            if (req.body.timePeriod) {","                experience.timePeriod.start = req.body.timePeriod.start;","                experience.timePeriod.end = req.body.timePeriod.end;","            }","            experience.save(function(err, data) {","                if (err)","                    throw err;","                res.json(data);","            });","        });","    });"],"id":25}],[{"start":{"row":147,"column":0},"end":{"row":153,"column":0},"action":"remove","lines":["","","","module.exports = function(router) {","    ","}",""],"id":26}],[{"start":{"row":146,"column":0},"end":{"row":147,"column":0},"action":"remove","lines":["",""],"id":27}],[{"start":{"row":128,"column":31},"end":{"row":128,"column":32},"action":"remove","lines":["d"],"id":33}],[{"start":{"row":128,"column":30},"end":{"row":128,"column":31},"action":"remove","lines":["i"],"id":34}],[{"start":{"row":128,"column":30},"end":{"row":128,"column":31},"action":"insert","lines":["c"],"id":35}],[{"start":{"row":128,"column":31},"end":{"row":128,"column":32},"action":"insert","lines":["o"],"id":36}],[{"start":{"row":128,"column":32},"end":{"row":128,"column":33},"action":"insert","lines":["m"],"id":37}],[{"start":{"row":128,"column":33},"end":{"row":128,"column":34},"action":"insert","lines":["p"],"id":38}],[{"start":{"row":128,"column":34},"end":{"row":128,"column":35},"action":"insert","lines":["a"],"id":39}],[{"start":{"row":128,"column":35},"end":{"row":128,"column":36},"action":"insert","lines":["n"],"id":40}],[{"start":{"row":128,"column":36},"end":{"row":128,"column":37},"action":"insert","lines":["y"],"id":41}],[{"start":{"row":129,"column":30},"end":{"row":129,"column":31},"action":"remove","lines":["d"],"id":42}],[{"start":{"row":129,"column":29},"end":{"row":129,"column":30},"action":"remove","lines":["i"],"id":43}],[{"start":{"row":129,"column":28},"end":{"row":129,"column":29},"action":"remove","lines":["_"],"id":44}],[{"start":{"row":129,"column":28},"end":{"row":129,"column":35},"action":"insert","lines":["company"],"id":46}],[{"start":{"row":129,"column":49},"end":{"row":129,"column":50},"action":"remove","lines":["d"],"id":47}],[{"start":{"row":129,"column":48},"end":{"row":129,"column":49},"action":"remove","lines":["i"],"id":48}],[{"start":{"row":129,"column":48},"end":{"row":129,"column":55},"action":"insert","lines":["company"],"id":49}],[{"start":{"row":120,"column":33},"end":{"row":120,"column":34},"action":"remove","lines":["d"],"id":50}],[{"start":{"row":120,"column":32},"end":{"row":120,"column":33},"action":"remove","lines":["i"],"id":51}],[{"start":{"row":120,"column":32},"end":{"row":120,"column":33},"action":"insert","lines":["c"],"id":52}],[{"start":{"row":120,"column":33},"end":{"row":120,"column":34},"action":"insert","lines":["o"],"id":53}],[{"start":{"row":120,"column":34},"end":{"row":120,"column":35},"action":"insert","lines":["m"],"id":54}],[{"start":{"row":120,"column":35},"end":{"row":120,"column":36},"action":"insert","lines":["a"],"id":55}],[{"start":{"row":120,"column":36},"end":{"row":120,"column":37},"action":"insert","lines":["n"],"id":56}],[{"start":{"row":120,"column":36},"end":{"row":120,"column":37},"action":"remove","lines":["n"],"id":57}],[{"start":{"row":120,"column":35},"end":{"row":120,"column":36},"action":"remove","lines":["a"],"id":58}],[{"start":{"row":120,"column":35},"end":{"row":120,"column":36},"action":"insert","lines":["p"],"id":59}],[{"start":{"row":120,"column":36},"end":{"row":120,"column":37},"action":"insert","lines":["a"],"id":60}],[{"start":{"row":120,"column":37},"end":{"row":120,"column":38},"action":"insert","lines":["n"],"id":61}],[{"start":{"row":120,"column":38},"end":{"row":120,"column":39},"action":"insert","lines":["y"],"id":62}],[{"start":{"row":121,"column":44},"end":{"row":121,"column":45},"action":"remove","lines":["d"],"id":63}],[{"start":{"row":121,"column":43},"end":{"row":121,"column":44},"action":"remove","lines":["i"],"id":64}],[{"start":{"row":121,"column":43},"end":{"row":121,"column":44},"action":"insert","lines":["c"],"id":65}],[{"start":{"row":121,"column":44},"end":{"row":121,"column":45},"action":"insert","lines":["o"],"id":66}],[{"start":{"row":121,"column":45},"end":{"row":121,"column":46},"action":"insert","lines":["m"],"id":67}],[{"start":{"row":121,"column":46},"end":{"row":121,"column":47},"action":"insert","lines":["p"],"id":68}],[{"start":{"row":121,"column":47},"end":{"row":121,"column":48},"action":"insert","lines":["a"],"id":69}],[{"start":{"row":121,"column":48},"end":{"row":121,"column":49},"action":"insert","lines":["n"],"id":70}],[{"start":{"row":121,"column":49},"end":{"row":121,"column":50},"action":"insert","lines":["y"],"id":71}],[{"start":{"row":121,"column":29},"end":{"row":121,"column":30},"action":"remove","lines":["d"],"id":72}],[{"start":{"row":121,"column":28},"end":{"row":121,"column":29},"action":"remove","lines":["i"],"id":73}],[{"start":{"row":121,"column":27},"end":{"row":121,"column":28},"action":"remove","lines":["_"],"id":74}],[{"start":{"row":121,"column":27},"end":{"row":121,"column":28},"action":"insert","lines":["c"],"id":75}],[{"start":{"row":121,"column":28},"end":{"row":121,"column":29},"action":"insert","lines":["o"],"id":76}],[{"start":{"row":121,"column":29},"end":{"row":121,"column":30},"action":"insert","lines":["m"],"id":77}],[{"start":{"row":121,"column":30},"end":{"row":121,"column":31},"action":"insert","lines":["p"],"id":78}],[{"start":{"row":121,"column":31},"end":{"row":121,"column":32},"action":"insert","lines":["a"],"id":79}],[{"start":{"row":121,"column":32},"end":{"row":121,"column":33},"action":"insert","lines":["n"],"id":80}],[{"start":{"row":121,"column":33},"end":{"row":121,"column":34},"action":"insert","lines":["y"],"id":81}],[{"start":{"row":128,"column":30},"end":{"row":128,"column":37},"action":"remove","lines":["company"],"id":82},{"start":{"row":128,"column":30},"end":{"row":128,"column":31},"action":"insert","lines":["i"]}],[{"start":{"row":128,"column":31},"end":{"row":128,"column":32},"action":"insert","lines":["d"],"id":83}],[{"start":{"row":120,"column":32},"end":{"row":120,"column":39},"action":"remove","lines":["company"],"id":84},{"start":{"row":120,"column":32},"end":{"row":120,"column":33},"action":"insert","lines":["i"]}],[{"start":{"row":120,"column":33},"end":{"row":120,"column":34},"action":"insert","lines":["d"],"id":85}]]},"ace":{"folds":[],"scrolltop":1235.5,"scrollleft":0,"selection":{"start":{"row":76,"column":4},"end":{"row":76,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":19,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1478365263533,"hash":"86d7a5b19f75aa65a532546739a8781897f3e7dd"}